<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Grace's Book Club</title>
  <style>
    body {
      font-family: "Times New Roman", serif;
      margin: 0;
      padding: 0;
      background: #ffffff;
    }

    /* Nav Bar */
    .nav-bar {
      display: flex;
      justify-content: center;
      background: #ffffff;
      padding: 10px;
      gap: 20px;
    }

    .nav-bar button {
      background: #eec2cd;
      color: #000000;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-family: "Times New Roman", serif;
    }

    .nav-bar button:hover {
      background: #f4d1da;
    }

    /* Form styling */
    form {
      max-width: 500px;
      margin: 30px auto;
      padding: 20px;
      background: #ffffff;
      border: 1px solid #eec2cd;
      border-radius: 5px;
    }

    form input, form textarea, form select {
      width: 100%;
      padding: 8px;
      margin: 5px 0 15px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-family: "Times New Roman", serif;
    }

    form button[type="submit"] {
      background: #eec2cd;
      color: #000000;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-family: "Times New Roman", serif;
    }

    form button[type="submit"]:hover {
      background: #f4d1da;
    }
  </style>
</head>
<body>

  <!-- Nav Bar -->
  <div class="nav-bar">
    <button onclick="document.getElementById('rsvpForm').scrollIntoView({behavior:'smooth'});">RSVP</button>
    <button onclick="document.getElementById('suggestForm').scrollIntoView({behavior:'smooth'});">Suggest & Vote</button>
    <button onclick="document.getElementById('rateForm').scrollIntoView({behavior:'smooth'});">Rate Our Books</button>
  </div>

  <!-- RSVP Form -->
  <form id="rsvpForm">
    <h2>RSVP</h2>
    <input type="hidden" name="formType" value="rsvp">
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="email" name="email" placeholder="Email Address" required>
    <input type="text" name="guests" placeholder="Number of Guests" required>
    <textarea name="comments" placeholder="Any comments?" rows="3"></textarea>
    <button type="submit">Submit RSVP</button>
  </form>

  <!-- Suggest & Vote Form -->
  <form id="suggestForm">
    <h2>Suggest & Vote</h2>
    <input type="hidden" name="formType" value="suggest">
    <input type="text" name="suggestion" placeholder="Book suggestion" required>
    <textarea name="reason" placeholder="Why this book?" rows="3"></textarea>
    <button type="submit">Submit Suggestion</button>
  </form>

  <!-- Rate Our Books Form -->
  <form id="rateForm">
    <h2>Rate Our Books</h2>
    <input type="hidden" name="formType" value="rate">
    <input type="text" name="book" placeholder="Book Name" required>
    <select name="rating" required>
      <option value="">Select rating</option>
      <option value="1">1 ⭐</option>
      <option value="2">2 ⭐</option>
      <option value="3">3 ⭐</option>
      <option value="4">4 ⭐</option>
      <option value="5">5 ⭐</option>
    </select>
    <textarea name="feedback" placeholder="Comments about the book" rows="3"></textarea>
    <button type="submit">Submit Rating</button>
  </form>

  <!-- JS for form submission -->
  <script>
    async function handleFormSubmit(form) {
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      const res = await fetch('/.netlify/functions/submitForm', {
        method: 'POST',
        body: JSON.stringify(data)
      });

      const text = await res.text();
      alert(text);
      form.reset();
    }

    document.getElementById('rsvpForm').addEventListener('submit', e => {
      e.preventDefault();
      handleFormSubmit(e.target);
    });

    document.getElementById('suggestForm').addEventListener('submit', e => {
      e.preventDefault();
      handleFormSubmit(e.target);
    });

    document.getElementById('rateForm').addEventListener('submit', e => {
      e.preventDefault();
      handleFormSubmit(e.target);
    });
  </script>

</body>
</html>
